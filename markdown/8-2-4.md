<!--navi start1-->
[前へ](8-2-3.md)/[目次](https://opensourcecobol.github.io/markdown/TOC.html)/[次へ](8-3-1.md)
<!--navi end1-->
### 8.2.4. 重要な環境変数

次の表は、opensource COBOLプログラムの実行で使用できる様々な環境変数を示している。

表8-5-実行時環境変数

|環境変数 | 使い方 |
| :--- | :--- |
|COB_LIBRARY_PATH | opensource COBOLは実行時に、PATHおよびプログラム実行可能なディレクトリから動的にロード可能なライブラリを見つけ、ロードしようとする。これらのライブラリファイルが別の場所に存在する可能性がある場合、この変数を使用してディレクトリパスを指定する。|
|COB_PRE_LOAD | null以外の値に設定すると、この変数により、プログラムの実行開始時に動的ロード可能なすべてのライブラリがロードされる(モジュールを検索してロードするよりも先に)。 |
|COB_SCREEN_ESC | 空白以外の値に設定すると、この変数によりACCEPT文がEscキーを検出できるようになる。詳細については、[表4-8](4-1-4.md)で説明している。|
|COB_SCREEN_EXCEPTIONS | この変数を空白以外の値に設定すると、ACCEPT文がEsc、PgUp、およびPgDnキーを検出できるようになる。詳細については、[表4-8](4-1-4.md)で説明している。|
|COB_SORT_MEMORY |この変数の値(整数)は、整列時に割り当てられるメモリ量を定義するために使用される。値が1048576以上の場合、「そのまま」の値がメモリ量(バイト単位)として割り当てられる。値が1048576未満の場合、ソートメモリ量の初期値は128MBで設定される。 |
|COB_SWITCH_n | (n = 1～8)これらの環境変数は、SWITCH-1からSWITCH-8に対応する。「オン」に設定するとアクティブになり、それ以外の値はオフになる。詳細については、[4.1.4](4-1-4.md)で説明している。|
|COB_SYNC |大文字または小文字の「p」の値を設定すると、ファイルが書き込まれるたびにファイルを強制的にコミットする(次のコミットが発生するまでデータがメモリに保持されるのではなく、<u>すぐに</u>ファイルに書き込まれるようにする)。これによりファイルへの更新アクセスが遅くなるが、プログラムに障害が発生した場合の整合性が向上する。|
|DB_HOME |opensource COBOLビルドでBerkeley DB(BDB)パッケージを使用する場合は、この環境変数を使って、プログラムによって開かれたすべての非SORTファイルに関連付けられるロック管理ファイルに関連するフォルダを指定する`35`。この変数を定義すると、READ文([6.33](6-33-1.md))、REWRITE文([6.36](6-36.md))、およびWRITE文([6.50](6-50.md))でレコードロック機能がアクティブになる`36`。|
|PATH |opensource COBOLの「bin」ディレクトリはPATHで定義する必要がある。|
|TMPDIR<br>TMP<br>TEMP<br>(この順番で確認) |一時ファイルを作成するのに適当なディレクトリ/フォルダを設定し、一時作業ファイルを作成するためにSORTおよびMERGEによって使用される。このフォルダは、アプリケーションで必要になるどの一時ファイルに対しても使用できる。適切な形式としては、アプリケーションが一時的な作業ファイルを作成する場合、その後でクリーンアップする必要がある`37`。|

---
`35` ORGANIZATION INDEXEDファイルでは、DB_HOMEが存在する場合、データファイルもDB_HOMEフォルダに割り当てられる。
`36` DB_HOMEを使用しても、Windows/MinGW用に作成されたopensource COBOLビルドのORGANIZATION SEQUENTIAL (いずれかのタイプ)またはORGANIZATION RELATIVEファイルにおいてロックは機能しない。ORGANIZATION INDEXEDロックはWindows/MinGWで機能し、UNIX opensource COBOLビルドを使ったファイル編成ではすべてのロックが機能する。
`37` C$DELETEおよびCBL_DELETE_FILEの組み込みサブルーチンを参照すること。

<!--navi start2-->

[ページトップへ](8-2-4.md)
<!--navi end2-->
